(this["webpackJsonpmovies-js"]=this["webpackJsonpmovies-js"]||[]).push([[0],{18:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(5),r=s.n(i),c=(s(4),s(2)),o=s(0);function l(e){var t=e.data,s=t.title,a=t.poster_path,n=t.overview,i=t.vote_average;return Object(o.jsxs)("div",{className:"movie group",children:[Object(o.jsxs)("div",{className:" overflow-hidden relative",children:[a?Object(o.jsx)("img",{className:"w-full h-96 w-80 rounded-t-sm",src:"https://image.tmdb.org/t/p/w500/"+a,alt:s}):Object(o.jsx)("img",{className:"h-96 w-80 rounded-t-sm",src:"./404.png",alt:s}),Object(o.jsxs)("div",{className:"movie-overview content-center text-white absolute inset-x-0 bottom-0 p-2 min-h-full max-h-full overflow-auto transform-gpu translate-y-full backdrop-filter backdrop-blur transition duration-300 ease-in-out group-hover:transform-gpu translate-y",children:[Object(o.jsx)("h2",{children:"Overview"}),Object(o.jsx)("p",{children:n})]})]}),Object(o.jsxs)("div",{className:"movie-info flex fd-col justify-between items-center rounded-b-sm p-2 pr-4 h-16 bg-secondary shadow-2xl",children:[Object(o.jsx)("h3",{className:"w-48 break-words text-white overflow-hidden",children:s}),Object(o.jsx)("p",{className:"text-rating",children:0===i?"Unrated":i})]})]})}s(13),s(14),s(15);function u(e){var t=e.setTotalPages,s=e.setMovies,a=e.FEATURED,i=e.setHomePage,r=e.setIsfiltered,l=e.setIsSearching,u=e.search,h=e.setSearch,d=e.setTopRated,g=n.a.useState([]),m=Object(c.a)(g,2),p=m[0],j=m[1];function f(e){var n=e.target.innerHTML,c=e.target.dataset.id;switch(n){case"Home":d(!1),fetch(a).then((function(e){return e.json()})).then((function(e){i(0),s(e.results),h(""),r({filtered:!1,filter:""})}));break;case"Top IMDb":d(!0),fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=cce5c51828e87448e801e6201147706e&language=en-US").then((function(e){return e.json()})).then((function(e){i(0),s(e.results),h(""),t(e.total_pages),r({filtered:!1,filter:""})}));break;default:d(!1),r({filtered:!0,filter:c}),fetch("https://api.themoviedb.org/3/discover/movie?api_key=cce5c51828e87448e801e6201147706e&language=en-US&sort_by=popularity.desc&with_genres="+c).then((function(e){return e.json()})).then((function(e){s(e.results),t(e.total_pages)}))}}n.a.useEffect((function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=cce5c51828e87448e801e6201147706e&language=en-US").then((function(e){return e.json()})).then((function(e){j(e.genres)}))}),[]),n.a.useEffect((function(){""===u?fetch(a).then((function(e){return e.json()})).then((function(e){s(e.results),t(e.total_pages),r({filtered:!1,filter:""}),l(!1)})):(d(!1),l(!0),fetch("https://api.themoviedb.org/3/search/movie?api_key=cce5c51828e87448e801e6201147706e&query="+u).then((function(e){return e.json()})).then((function(e){0===e.results.length?(s(""),t(e.total_pages)):(t(e.total_pages),s(e.results))})),r({filtered:!1,filter:""}))}),[u]);var b=n.a.useState(!1),x=Object(c.a)(b,2),v=x[0],O=x[1];return Object(o.jsxs)("header",{className:"flex justify-center lg:justify-between fixed top-0 w-full z-50 items-center bg-secondary h-14",children:[Object(o.jsxs)("div",{className:"flex items-center",children:[Object(o.jsx)("img",{className:"lg:ml-0 xl:ml-48 w-20 rounded-xl",src:"./logo.png",alt:"logo"}),Object(o.jsxs)("ul",{className:"flex text-white",children:[Object(o.jsx)("li",{className:"header",onClick:f,children:"Home"}),Object(o.jsxs)("li",{className:"header flex flex-col relative",onClick:function(){O(!v)},children:["Genre",v&&Object(o.jsx)("ul",{className:"text-white p-4 rounded-md bg-gray-800 drop-shadow-lg w-max absolute z-50 grid gap-2 lg:grid-cols-3 md:grid-cols-2 top-10 ml-0",children:p.map((function(e){return Object(o.jsx)("li",{className:"z-50",onClick:f,"data-id":e.id,children:e.name},e.id)}))})]}),Object(o.jsx)("li",{className:"header",onClick:f,children:"Top IMDb"})]})]}),Object(o.jsx)("div",{className:"search sm:pr-8 xl:mr-44 ",children:Object(o.jsxs)("span",{className:"p-input-icon-right",children:[Object(o.jsx)("i",{className:"pi pi-search"}),Object(o.jsx)("input",{type:"text",className:"bg-transparent mr-10 text-white focus:outline-none border-b border-white",value:u,onChange:function(e){h(e.target.value)},placeholder:"Search..."})]})})]})}var h=s(6),d=s.n(h);function g(e){var t=e.totalPages,s=e.setMovies,a=e.FEATURED,n=e.homePage,i=e.setHomePage,r=e.isFiltered,c=e.isSearching,l=e.search,u=e.topRated;return Object(o.jsx)("footer",{className:"top-pagination flex justify-center items-center bg-secondary h-12",children:Object(o.jsx)(d.a,{nextLabel:"next >",onPageChange:function(e){var t=e.selected+1;console.log(r.filtered),console.log(c),!0===r.filtered?(i(t-1),fetch("https://api.themoviedb.org/3/discover/movie?api_key=cce5c51828e87448e801e6201147706e&language=en-US&sort_by=popularity.desc&page="+t+"&with_genres="+r.filter).then((function(e){return e.json()})).then((function(e){return s(e.results)}))):c?(i(t-1),fetch("https://api.themoviedb.org/3/search/movie?api_key=cce5c51828e87448e801e6201147706e&query="+l+"&page="+t).then((function(e){return e.json()})).then((function(e){return s(e.results)}))):u?(i(t-1),fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=cce5c51828e87448e801e6201147706e&language=en-US&page="+t).then((function(e){return e.json()})).then((function(e){return s(e.results)}))):(i(t-1),fetch(a.slice(0,-1)+t).then((function(e){return e.json()})).then((function(e){return s(e.results)})))},pageRangeDisplayed:10,marginPagesDisplayed:2,pageCount:t,previousLabel:"< previous",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null,forcePage:n})})}var m=s(7),p=s.n(m);function j(e){var t=e.setCurrentTitle,s=e.setCurrentDesc,a=[],i=[],r=[],l=n.a.useState([]),u=Object(c.a)(l,2),h=u[0],d=u[1];return n.a.useEffect((function(){fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=cce5c51828e87448e801e6201147706e&language=en-US&page=1").then((function(e){return e.json()})).then((function(e){d(e.results)}))}),[]),h.map((function(e){a.push({original:"https://image.tmdb.org/t/p/original/"+e.backdrop_path}),i.push(e.original_title),r.push(e.overview)})),Object(o.jsx)(p.a,{items:a,showNav:!1,showFullscreenButton:!1,showPlayButton:!1,showBullets:!0,autoPlay:!0,slideInterval:4500,onSlide:function(e){t(i[e]),s(r[e])}})}var f="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=cce5c51828e87448e801e6201147706e&page=1";function b(){var e=n.a.useState([]),t=Object(c.a)(e,2),s=t[0],a=t[1],i=n.a.useState(""),r=Object(c.a)(i,2),h=r[0],d=r[1],m=n.a.useState(0),p=Object(c.a)(m,2),b=p[0],x=p[1],v=n.a.useState({filtered:!1,filter:""}),O=Object(c.a)(v,2),w=O[0],N=O[1],y=n.a.useState(!1),k=Object(c.a)(y,2),S=k[0],_=k[1],C=n.a.useState(""),P=Object(c.a)(C,2),E=P[0],T=P[1],F=n.a.useState(!1),U=Object(c.a)(F,2),D=U[0],R=U[1];n.a.useEffect((function(){fetch(f).then((function(e){return e.json()})).then((function(e){d(e.total_pages),a(e.results)}))}),[]);var I=n.a.useState(""),M=Object(c.a)(I,2),H=M[0],L=M[1],A=n.a.useState(""),B=Object(c.a)(A,2),z=B[0],q=B[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{setTotalPages:d,setMovies:a,FEATURED:f,setHomePage:x,isFiltered:w,setIsfiltered:N,setIsSearching:_,search:E,setSearch:T,setTopRated:R}),Object(o.jsx)("h1",{className:"text-white text-3xl xl:w-1/2 lg:w-4/5 m-auto mt-4",children:"In Theatre"}),Object(o.jsxs)("div",{className:"lg:w-full xl:w-1/2 m-auto relative",children:[!S&&Object(o.jsx)(j,{setCurrentTitle:L,setCurrentDesc:q}),Object(o.jsxs)("div",{className:"shadow-img absolute bottom-0 p-4 left-0",children:[Object(o.jsx)("h1",{className:"description text-white mb-2",children:H}),Object(o.jsx)("p",{className:"description text-xs sm:text-sm md:text-base lg:-text-lg text-white w-3/5 mb-6",children:z})]})]}),Object(o.jsx)(g,{totalPages:h,setMovies:a,FEATURED:f,homePage:b,setHomePage:x,isFiltered:w,isSearching:S,search:E,topRated:D}),Object(o.jsx)("div",{className:"movies grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-5 gap-6 p-6 lg:w-full xl:w-4/5 m-auto",children:s?s.map((function(e){return Object(o.jsx)(l,{data:e},e.id)})):Object(o.jsx)("h1",{className:"text-3xl text-white min-h-screen mt-48",children:"Not Found..."})}),Object(o.jsx)(g,{totalPages:h,setMovies:a,FEATURED:f,homePage:b,setHomePage:x,isFiltered:w,isSearching:S,search:E,topRated:D})]})}s(17);var x=function(){return Object(o.jsx)("div",{className:"App bg-primary min-h-screen",children:Object(o.jsx)(b,{})})};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root"))},4:function(e,t,s){}},[[18,1,2]]]);
//# sourceMappingURL=main.7463c326.chunk.js.map